<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <%- head %>
    <title>Charts | Nexus Admin</title>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body
    class="bg-dark-950 text-slate-300 antialiased selection:bg-cyan-500/30 selection:text-cyan-200 overflow-hidden"
    x-data="{ sidebarOpen: false }"
  >
    <!-- Background Decoration -->
    <div class="fixed inset-0 z-0 pointer-events-none">
      <div
        class="absolute top-0 left-0 w-full h-96 bg-grid-pattern opacity-[0.05]"
      ></div>
      <div
        class="absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-900/20 rounded-full blur-[128px]"
      ></div>
      <div
        class="absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-cyan-900/20 rounded-full blur-[128px]"
      ></div>
    </div>

    <div class="relative z-10 flex h-screen overflow-hidden">
      <!-- Sidebar -->
      <%- sidebar %>

      <!-- Main Content -->
      <main class="flex-1 flex flex-col h-screen overflow-hidden relative">
        <!-- Header -->
        <%- header %>

        <!-- Content -->
        <div
          class="flex-1 overflow-y-auto p-8 relative scroll-smooth custom-scrollbar"
        >
          <!-- Page Title -->
          <div class="mb-8">
            <h1 class="text-3xl font-bold text-white mb-2">
              Charts & Data Visualization
            </h1>
            <p class="text-slate-400 text-lg">
              Comprehensive data insights with modern neon aesthetics.
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Line Chart: Sales Analytics -->
            <div
              class="bg-dark-900/60 backdrop-blur-md rounded-2xl border border-white/5 p-6 hover:border-cyan-500/30 transition-all duration-300"
            >
              <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-white">
                  Sales Analytics
                </h3>
                <div class="flex space-x-2">
                  <select
                    class="bg-dark-800 border border-white/10 text-xs text-slate-300 rounded-lg px-3 py-1.5 focus:outline-none focus:border-cyan-500/50"
                  >
                    <option>Last 7 Days</option>
                    <option>Last 30 Days</option>
                    <option>Last Year</option>
                  </select>
                </div>
              </div>
              <div class="h-[300px]">
                <canvas id="salesChart"></canvas>
              </div>
            </div>

            <!-- Bar Chart: Revenue by Category -->
            <div
              class="bg-dark-900/60 backdrop-blur-md rounded-2xl border border-white/5 p-6 hover:border-purple-500/30 transition-all duration-300"
            >
              <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-white">
                  Revenue by Category
                </h3>
                <button
                  class="text-slate-400 hover:text-white transition-colors"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"
                    />
                  </svg>
                </button>
              </div>
              <div class="h-[300px]">
                <canvas id="revenueChart"></canvas>
              </div>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
            <!-- Doughnut Chart: Traffic Sources -->
            <div
              class="bg-dark-900/60 backdrop-blur-md rounded-2xl border border-white/5 p-6"
            >
              <h3 class="text-lg font-semibold text-white mb-6">
                Traffic Sources
              </h3>
              <div class="h-[250px] flex items-center justify-center">
                <canvas id="trafficChart"></canvas>
              </div>
              <div class="mt-6 space-y-3">
                <div class="flex justify-between items-center text-sm">
                  <span class="flex items-center text-slate-400">
                    <span
                      class="w-3 h-3 rounded-full bg-cyan-500 mr-2 shadow-[0_0_8px_theme('colors.cyan.500')]"
                    ></span>
                    Direct
                  </span>
                  <span class="text-white font-medium">45%</span>
                </div>
                <div class="flex justify-between items-center text-sm">
                  <span class="flex items-center text-slate-400">
                    <span
                      class="w-3 h-3 rounded-full bg-purple-500 mr-2 shadow-[0_0_8px_theme('colors.purple.500')]"
                    ></span>
                    Social
                  </span>
                  <span class="text-white font-medium">30%</span>
                </div>
                <div class="flex justify-between items-center text-sm">
                  <span class="flex items-center text-slate-400">
                    <span
                      class="w-3 h-3 rounded-full bg-rose-500 mr-2 shadow-[0_0_8px_theme('colors.rose.500')]"
                    ></span>
                    Referral
                  </span>
                  <span class="text-white font-medium">25%</span>
                </div>
              </div>
            </div>

            <!-- Radar Chart: System Health -->
            <div
              class="bg-dark-900/60 backdrop-blur-md rounded-2xl border border-white/5 p-6"
            >
              <h3 class="text-lg font-semibold text-white mb-6">
                System Health
              </h3>
              <div class="h-[250px]">
                <canvas id="healthChart"></canvas>
              </div>
              <div class="mt-6 p-4 bg-white/5 rounded-xl border border-white/5">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm text-slate-400">Overall Status</span>
                  <span
                    class="text-xs font-medium px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"
                    >Optimal</span
                  >
                </div>
                <div
                  class="w-full bg-dark-800 rounded-full h-1.5 overflow-hidden"
                >
                  <div
                    class="bg-gradient-to-r from-cyan-500 to-emerald-500 h-full w-[92%] shadow-[0_0_10px_theme('colors.cyan.500')]"
                  ></div>
                </div>
              </div>
            </div>

            <!-- Area Chart: Growth -->
            <div
              class="bg-dark-900/60 backdrop-blur-md rounded-2xl border border-white/5 p-6 shadow-xl"
            >
              <h3 class="text-lg font-semibold text-white mb-6">User Growth</h3>
              <div class="h-[250px]">
                <canvas id="growthChart"></canvas>
              </div>
              <div class="mt-6 text-center">
                <p class="text-3xl font-bold text-white mb-1">+2,543</p>
                <p
                  class="text-sm text-emerald-400 flex items-center justify-center"
                >
                  <svg
                    class="w-4 h-4 mr-1"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
                    />
                  </svg>
                  14.2% increase
                </p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Vite Entry Point -->
    <script type="module" src="/src/main.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Common Chart Config
        Chart.defaults.color = "#94a3b8"; // text-slate-400
        Chart.defaults.font.family = "'Outfit', sans-serif";
        Chart.defaults.borderColor = "rgba(255, 255, 255, 0.05)";

        // 1. Sales Analytics (Line Chart)
        const salesCtx = document.getElementById("salesChart").getContext("2d");
        const salesGradient = salesCtx.createLinearGradient(0, 0, 0, 300);
        salesGradient.addColorStop(0, "rgba(6, 182, 212, 0.3)");
        salesGradient.addColorStop(1, "rgba(6, 182, 212, 0)");

        new Chart(salesCtx, {
          type: "line",
          data: {
            labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
            datasets: [
              {
                label: "Sales",
                data: [6500, 7800, 6200, 9500, 8100, 11000, 10500],
                borderColor: "#06b6d4",
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                backgroundColor: salesGradient,
                pointBackgroundColor: "#06b6d4",
                pointBorderColor: "rgba(255, 255, 255, 0.2)",
                pointHoverRadius: 6,
                pointRadius: 4,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
              tooltip: {
                backgroundColor: "#13131f",
                titleColor: "#fff",
                bodyColor: "#fff",
                borderColor: "rgba(6, 182, 212, 0.3)",
                borderWidth: 1,
                padding: 12,
                displayColors: false,
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: { borderDash: [5, 5] },
              },
              x: { grid: { display: false } },
            },
          },
        });

        // 2. Revenue by Category (Bar Chart)
        const revenueCtx = document
          .getElementById("revenueChart")
          .getContext("2d");
        new Chart(revenueCtx, {
          type: "bar",
          data: {
            labels: ["Electronics", "Fashion", "Home", "Beauty", "Sports"],
            datasets: [
              {
                label: "Revenue",
                data: [12500, 8400, 6200, 4800, 3200],
                backgroundColor: [
                  "rgba(168, 85, 247, 0.6)",
                  "rgba(168, 85, 247, 0.4)",
                  "rgba(168, 85, 247, 0.3)",
                  "rgba(168, 85, 247, 0.2)",
                  "rgba(168, 85, 247, 0.1)",
                ],
                borderColor: "#a855f7",
                borderWidth: 1,
                borderRadius: 8,
                hoverBackgroundColor: "#a855f7",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
              tooltip: {
                backgroundColor: "#13131f",
                padding: 12,
              },
            },
            scales: {
              y: { beginAtZero: true, grid: { borderDash: [5, 5] } },
              x: { grid: { display: false } },
            },
          },
        });

        // 3. Traffic Sources (Doughnut)
        const trafficCtx = document
          .getElementById("trafficChart")
          .getContext("2d");
        new Chart(trafficCtx, {
          type: "doughnut",
          data: {
            labels: ["Direct", "Social", "Referral"],
            datasets: [
              {
                data: [450, 300, 250],
                backgroundColor: ["#06b6d4", "#a855f7", "#f43f5e"],
                borderWidth: 0,
                hoverOffset: 15,
                cutout: "75%",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
            },
          },
        });

        // 4. System Health (Radar)
        const healthCtx = document
          .getElementById("healthChart")
          .getContext("2d");
        new Chart(healthCtx, {
          type: "radar",
          data: {
            labels: [
              "Performance",
              "Uptime",
              "Security",
              "Scalability",
              "Efficiency",
            ],
            datasets: [
              {
                label: "Current Status",
                data: [90, 95, 85, 70, 80],
                backgroundColor: "rgba(6, 182, 212, 0.2)",
                borderColor: "#06b6d4",
                pointBackgroundColor: "#06b6d4",
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              r: {
                angleLines: { color: "rgba(255, 255, 255, 0.05)" },
                grid: { color: "rgba(255, 255, 255, 0.05)" },
                pointLabels: { color: "#94a3b8" },
                ticks: { display: false },
                suggestedMin: 50,
                suggestedMax: 100,
              },
            },
          },
        });

        // 5. User Growth (Area)
        const growthCtx = document
          .getElementById("growthChart")
          .getContext("2d");
        const growthGradient = growthCtx.createLinearGradient(0, 0, 0, 200);
        growthGradient.addColorStop(0, "rgba(16, 185, 129, 0.3)");
        growthGradient.addColorStop(1, "rgba(16, 185, 129, 0)");

        new Chart(growthCtx, {
          type: "line",
          data: {
            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
            datasets: [
              {
                label: "Users",
                data: [1200, 1900, 3000, 2800, 3500, 4200],
                borderColor: "#10b981",
                borderWidth: 2,
                fill: true,
                backgroundColor: growthGradient,
                tension: 0.4,
                pointRadius: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { display: false },
              x: { display: false },
            },
          },
        });
      });
    </script>
  </body>
</html>
